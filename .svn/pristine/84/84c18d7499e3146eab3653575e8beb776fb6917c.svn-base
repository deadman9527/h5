!function(t,e){function i(t){var e,i={x:0,y:0},n=getComputedStyle(t)[l+"Transform"];return"none"!==n&&(e=n.match(/^matrix3d\(\d+, \d+, \d+, \d+, \d+, \d+, \d+, \d+, \d+, \d+, \d+, \d+, ([-\d.]+), ([-\d.]+), [-\d.]+, \d+\)/)||n.match(/^matrix\(\d+, \d+, \d+, \d+, ([-\d.]+), ([-\d.]+)\)$/))&&(i.x=parseInt(e[1])||0,i.y=parseInt(e[2])||0),i}var n=t.document,a=window.navigator.userAgent.match(/IEMobile\/([\d\.]+)/),l=a?"ms":"webkit";e.scroll.plugin("force-repaint",function(t,i){function a(){o.style.opacity=Math.abs(parseInt(o.style.opacity)-1)+""}var l=this,o=(this.options,this.forceRepaintElement=n.createElement("div"));o.className="force-repaint",o.style.cssText="position: absolute; top: 0; left: 0; width: 0; height: 0; font-size: 0; opacity: 1; translateZ(0)",this.viewport.appendChild(o),i.whenScrolling!==!1?this.addScrollingHandler(a):e.animation.requestFrame(function(){l.isScrolling&&a(),e.animation.requestFrame(arguments.callee)})}),e.scroll.plugin("fixed",function(t,e){function i(t,e){"string"==typeof t?e.innerHTML=t:t instanceof HTMLElement&&e.appendChild(t)}this.options;getComputedStyle(this.viewport).position.match(/^relative|absolute$/)||(this.viewport.style.position="relative"),getComputedStyle(this.element).position.match(/^relative|absolute$/)||(this.element.style.position="absolute");var a=n.createDocumentFragment();if("y"===this.axis){var o=e.topOffset||0,s=e.bottomOffset||0,r=this.topFixedElement=n.createElement("div");r.className="top-fixed",r.style.cssText="z-index:9; position: absolute; top: "+o+"px; left: 0; width: 100%; -"+l+"-transform: translateZ(9px);";var p=this.bottomFixedElement=n.createElement("div");p.className="bottom-fxied",p.style.cssText="z-index:9; position: absolute; bottom: "+s+"px; left: 0; width: 100%; -"+l+"-transform: translateZ(9px);",e.topElement&&i(e.topElement,r),e.bottomElement&&i(e.bottomElement,p),a.appendChild(r),a.appendChild(p)}else{var c=e.leftOffset||0,d=e.rightOffset||0,h=this.leftFixedElement=n.createElement("div");h.className="left-fixed",h.style.cssText="z-index:9; position: absolute; top: 0; left: "+c+"px; height: 100%; -"+l+"-transform: translateZ(9px);";var f=this.rightFixedElement=n.createElement("div");f.className="right-fxied",f.style.cssText="z-index:9; position: absolute; top: 0; right: "+d+"px; height: 100%; -"+l+"-transform: translateZ(9px);",e.leftElement&&i(e.leftElement,h),e.rightElement&&i(e.rightElement,f),a.appendChild(h),a.appendChild(f)}this.viewport.appendChild(a)}),e.scroll.plugin("lazyload",function(t,i){function n(){if(!c){if(c=!0,o>r&&s.length>0){var t=s.shift();r++;var e=new Image;e.src=t,e.onload=e.onreadystatechange=function(){p[t]!==!0&&(p[t].forEach(function(e){e&&e(t)}),p[t]=!0,r--),n()},n()}c=!1}}function a(t,e){return p[t]===!0?e(t):(p[t]?p[t].push(e):(p[t]=[e],s.push(t)),void n())}var l=this,o=(this.options,4),s=[],r=0,p={},c=!1;this.checkLazyload=function(){var t=Array.prototype.slice.call(this.element.querySelectorAll(".lazy"));t.filter(function(t){return l.isInView(t)}).forEach(function(t){var e,n;"IMG"===t.tagName.toUpperCase()?(e=[t],n=[]):(e=Array.prototype.slice.call(t.querySelectorAll("img[data-src]")),n=Array.prototype.slice.call(t.querySelectorAll("*[data-image]")),t.hasAttribute("data-image")&&n.push(t)),e.forEach(function(t){var e=t.getAttribute("data-src");e&&(t.removeAttribute("data-src"),a(e,function(){t.src=e}))}),n.forEach(function(t){var e=t.getAttribute("data-image");e&&(t.removeAttribute("data-image"),a(e,function(){t.style.backgroundImage="url("+e+")"}))}),i.onlazyload&&i.onlazyload(t),t.className=t.className.split(" ").filter(function(t){return"lazy"!==t}).join(" ")})},i.realTimeLoad&&(this.enablePlugin("force-repaint"),this.addScrollingHandler(function(){l.checkLazyload()})),this.addScrollendHandler(function(){l.checkLazyload()}),this.element.addEventListener("contentrefresh",function(){l.checkLazyload()}),e.animation.requestFrame(function(){l.checkLazyload()})}),e.scroll.plugin("sticky",function(t,e){this.enablePlugin("force-repaint");var i=this.options,a=(e.offset||0)+(i.padding.top||0),o=this.stickyWrapElement=n.createElement("div");o.className="stick-wrap",o.style.cssText="z-index:9; position: absolute; top: "+a+"px; left: 0; width: 100%; -"+l+"-transform: translateZ(9px);",this.viewport.appendChild(o),this.makeSticky=function(t){var e=this;if(t){if(t.className.indexOf("sticky-able")>=0)return;t.style.position="absolute",t.className=t.className.split(/\s+/).filter(function(t){return"sticky"!=t}).join(" ")+" sticky-able";var i=t.parentNode;this.addScrollingHandler(function(){e.checkSticky(t,i)}),this.addScrollendHandler(function(){e.checkSticky(t,i)})}else Array.prototype.slice.call(this.element.querySelectorAll(".sticky")).forEach(function(t){e.makeSticky(t)})},this.checkSticky=function(t,e){this.getRect(e).top<a?this.stickyWrapElement.appendChild(t):this.getRect(e).top>a&&e.appendChild(t)},this.makeSticky()}),e.scroll.plugin("refresh",function(t,a){function o(){if(!c){c=!0,s.disable();var t=i(p).y,n=0-t,o=i(s.element).y,r=s.minScrollOffset+a.height-o,d=new e.animation(400,e.cubicbezier.ease,0,function(e,i){p.style[l+"Transform"]="translateY("+(t+n*i)+"px) translateZ(9px)",s.element.style[l+"Transform"]="translateY("+(o+r*i)+"px) translateZ(9px)"});d.onend(function(){a.onrefresh.call(s,function(){var t=i(p).y,n=-a.height-t;s.scrollTo(0,!0);var o=new e.animation(400,e.cubicbezier.ease,0,function(e,i){p.style[l+"Transform"]="translateY("+(t+n*i)+"px) translateZ(9px)"});o.onend(function(){s.enable(),s.refresh(),c=!1}),o.play()})}),d.play()}}var s=this,r=this.options;getComputedStyle(this.viewport).position.match(/^relative|absolute$/)||(this.viewport.style.position="relative"),getComputedStyle(this.element).position.match(/^relative|absolute$/)||(this.element.style.position="absolute"),a.height=a.height||0,a.offset=(a.offset||0)+(r.padding.top||0);var p=this.refreshElement=n.createElement("div");p.className="refresh",p.style.cssText=["position: absolute","top: "+a.offset+"px","left: 0","width: 100%","height: "+a.height+"px","-"+l+"-transform: translateY(-"+a.height+"px) translateZ(9px)"].join(";"),a.html||"string"==typeof a.element?p.innerHTML=a.html||a.element:a.element instanceof HTMLElement&&p.appendChild(a.element),this.viewport.appendChild(p);var c;this.addScrollingHandler(function(){if(!c){{var t=s.getScrollTop();i(p)}p.style[l+"Transform"]="translateY("+-(a.height+t)+"px) translateZ(9px)",0>t?("none"===p.style.display&&(p.style.display=""),a.onpull&&a.onpull.call(s,-t)):""===p.style.display&&(p.style.display="none")}}),this.element.addEventListener("pulldownend",function(){if(!c){var t=s.getBoundaryOffset();t>a.height&&o()}},!1)}),e.scroll.plugin("update",function(t,i){function a(){if(!p){if(p=!0,!i.onupdate)throw new Error('no "onupdate" Handler');i.onupdate.call(o,function(){e.animation.requestFrame(function(){r.style[l+"Transition"]="",o.refresh(),r.style[l+"Transform"]="translateY("+(o.getMaxScrollTop()+i.height)+"px) translateZ(9px)",p=!1})})}}{var o=this,s=this.options;i.offset}getComputedStyle(this.viewport).position.match(/^relative|absolute$/)||(this.viewport.style.position="relative"),getComputedStyle(this.element).position.match(/^relative|absolute$/)||(this.element.style.position="absolute"),i.height=i.height||0,i.offset=(s.padding.bottom||0)-(i.offset||0);var r=this.updateElement=n.createElement("div");r.className="update",r.style.cssText=["position: absolute","bottom: "+i.offset+"px","left: 0","width: 100%","height: "+i.height+"px","-"+l+"-transform: translateY("+(o.getMaxScrollTop()+i.height)+"px) translateZ(9px)"].join(";"),"string"==typeof i.element?r.innerHTML=i.element:i.element instanceof HTMLElement&&r.appendChild(i.element),this.viewport.appendChild(r);var p;this.addScrollingHandler(function(){var t=o.getScrollTop(),e=o.getMaxScrollTop();r.style[l+"Transform"]="translateY("+(e+i.height-t)+"px) translateZ(9px)",p||(t>e?"none"===r.style.display&&(r.style.display=""):""===r.style.display&&(r.style.display="none"),e-t<.2*i.height?a():i.onpull&&i.onpull.call(o))})})}(window,window.lib||(window.lib={}));
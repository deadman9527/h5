!function(){var a,b,c,d,e,f,g,h,i,j;a=function(a){var b={mix:function(a,b){for(var c in b)a[c]=b[c];return a},extend:function(a,b,c){this.mix(b.prototype,a.prototype),b.prototype.super=a,this.mix(b.prototype,c)},vendor:function(){for(var a,b=document.createElement("div").style,c=["t","webkitT","MozT","msT","OT"],d=0,e=c.length;e>d;d++)if(a=c[d]+"ransform",a in b)return c[d].substr(0,c[d].length-1);return!1}(),prefixStyle:function(a){return this.vendor===!1?!1:""===this.vendor?a:this.vendor+a.charAt(0).toUpperCase()+a.substr(1)},hasClass:function(a,b){return a&&a.className&&-1!=a.className.indexOf(b)},addClass:function(a,b){a&&!this.hasClass(a,b)&&(a.className+=" "+b)},removeClass:function(a,b){a&&a.className&&(a.className=a.className.replace(b,""))}};return a=b}({}),i=function(){var b=a,c={on:function(a,b,c){return a.addEventListener(b,c),this.target=a,this},detach:function(a,b,c){return this.target=null,a.removeEventListener(b,c),this},dispatchEvent:function(a,c,d){var e=document.createEvent("Event");e.initEvent(c,!0,!0),b.mix(e,d),a.dispatchEvent(e)}};return c}({}),b=function(){function a(a){if(!(a.touches.length>1||this.gestureType&&"pan"!=this.gestureType))if(""==this.gestureType&&(m=[]),m.length){if("pan"!=this.gestureType)return;l.deltaX=a.touches[0].clientX-l.startX,l.deltaY=a.touches[0].clientY-l.startY,l.directionX=a.touches[0].clientX-l.prevX>0?"right":"left",l.directionY=a.touches[0].clientY-l.prevY>0?"bottom":"top",l.prevX=a.touches[0].clientX,l.prevY=a.touches[0].clientY,a.touch=l,m.push({deltaX:l.deltaX,deltaY:l.deltaY,timeStamp:a.timeStamp}),a.deltaX=l.deltaX,a.deltaY=l.deltaY,a.velocityX=0,a.velocityY=0,a.directionX=l.directionX,a.directionY=l.directionY,e.dispatchEvent(a.target,h,a)}else l={},l.startX=a.touches[0].clientX,l.startY=a.touches[0].clientY,l.deltaX=0,l.deltaY=0,a.touch=l,l.prevX=l.startX,l.prevY=l.startY,m.push({deltaX:l.deltaX,deltaY:l.deltaY,timeStamp:a.timeStamp}),a.deltaX=l.deltaX,a.deltaY=l.deltaY,this.gestureType="pan",e.dispatchEvent(a.target,f,a)}function b(a){var b=0,f=0,h=0;if(!(a.touches.length>1)){l.deltaX=a.changedTouches[0].clientX-l.startX,l.deltaY=a.changedTouches[0].clientY-l.startY,a.deltaX=l.deltaX,a.deltaY=l.deltaY,a.touch=l,a.touch.record=m;var i=(a.touch.startX,a.touch.startY,m.length),j=m[0]&&m[0].timeStamp;if(!(2>i)&&j){{m[i-1].timeStamp-m[0].timeStamp}for(var n in m)n>0?(m[n].velocity=c(m[n].deltaX,m[n].deltaY,m[n-1].deltaX,m[n-1].deltaY)/(m[n].timeStamp-m[n-1].timeStamp),m[n].velocityX=(m[n].deltaX-m[n-1].deltaX)/(m[n].timeStamp-m[n-1].timeStamp),m[n].velocityY=(m[n].deltaY-m[n-1].deltaY)/(m[n].timeStamp-m[n-1].timeStamp)):(m[n].velocity=0,m[n].velocityX=0,m[n].velocityY=0);var o=m[0].velocityX/Math.abs(m[0].velocityX);for(var n in m)m[n].velocityX/Math.abs(m[n].velocityX)!=o&&(o=m[n].velocityX/Math.abs(m[n].velocityX),h=n);var p=m[0].velocityY/Math.abs(m[0].velocityY);for(var n in m)m[n].velocityY/Math.abs(m[n].velocityY)!=p&&(p=m[n].velocityY/Math.abs(m[n].velocityY),f=n);b=Math.max(h,f);{m[b]}a.touch.record=a.touch.record.splice(b-1);var q=d(a.touch.record);a.velocityX=Math.abs(q.velocityX)>k?q.velocityX/Math.abs(q.velocityX)*k:q.velocityX,a.velocityY=Math.abs(q.velocityY)>k?q.velocityY/Math.abs(q.velocityY)*k:q.velocityY,a.velocity=Math.sqrt(Math.pow(a.velocityX,2)+Math.pow(a.velocityY,2)),l={},m=[],"pan"==this.gestureType&&(e.dispatchEvent(a.target,g,a),this.gestureType="")}}}function c(a,b,c,d){return Math.sqrt(Math.pow(c-a,2)+Math.pow(d-b,2))}function d(a){for(var b=0,c=0,d=a.length,e=0;d>e;e++)b+=a[e].velocityY,c+=a[e].velocityX;return b/=d,c/=d,{velocityY:Math.abs(a[d-1].velocityY)>j?b:0,velocityX:Math.abs(a[d-1].velocityX)>j?c:0}}var e=i,f=(window.document,"panstart"),g="panend",h="pan",j=.35,k=8,l={},m=[];return document.body.addEventListener("touchmove",a),document.body.addEventListener("touchend",b),{PAN_START:f,PAN_END:g,PAN:h}}({}),c=function(){function b(){if(r.length>2){for(var a=[],b=1;b<r.length;b++)a[b-1]=r[b];r=a}}function c(a){if(b(),0==r.length)return!1;var c=a.startTime-r[r.length-1].startTime;return 10>c?!0:!1}function d(){if(b(),1==r.length)return!1;var a=r[1].startTime-r[0].startTime;return q>a?!0:!1}function e(a){if(a.touches.length>1)return void(s=!1);var b=(a.currentTarget,a.target,a.changedTouches[0].clientX),c=a.changedTouches[0].clientY;s={startX:b,startY:c,startTime:Number(new Date),e:a},t&&clearTimeout(t);a.target;t=setTimeout(function(){if(s){var d={};g.mix(d,a),g.mix(d,{type:k,pageX:b,pageY:c,originalEvent:a}),h.dispatchEvent(a.target,k,d)}clearTimeout(t)},p)}function f(a){if(s){var e=a.changedTouches[0].clientX,f=a.changedTouches[0].clientY,i=Math.abs(e-s.startX),k=Math.abs(f-s.startY);if(g.mix(s,{endX:e,endY:f,distance:Math.sqrt(i*i+k*k),timeSpan:Number(Number(new Date)-s.startTime)}),s.timeSpan>n)return void(s=!1);if(s.distance>o)return void(s=!1);if(!c(s)){r.push(s),b();var p={};g.mix(p,a),g.mix(p,{type:j,pageX:e,pageY:f,originalEvent:a});var t=a.target;return h.dispatchEvent(t,j,p),u?(d()&&(g.mix(p,{type:m}),h.dispatchEvent(t,m,p)),clearTimeout(u),void(u=null)):void(u=setTimeout(function(){clearTimeout(u),u=null,g.mix(p,{type:l}),h.dispatchEvent(t,l,p)},q))}}}var g=a,h=i,j="tap",k="tapHold",l="singleTap",m="doubleTap",n=250,o=10,p=750,q=200,r=[],s=!1,t=null,u=null;return document.body.addEventListener("touchstart",e),document.body.addEventListener("touchend",f),{TAP:j,TAP_HOLD:k,SINGLE_TAP:l,DOUBLE_TAP:m}}({}),d=function(){function a(a,b){var c=a.pageX-b.pageX,d=a.pageY-b.pageY;return Math.sqrt(c*c+d*d)}function b(a,b){return{pageX:a.pageX/2+b.pageX/2,pageY:a.pageY/2+b.pageY/2}}function c(c){if(!(c.touches.length<2||c.changedTouches.length<1)){c.preventDefault();var d=a(c.touches[0],c.touches[1]),g=b(c.touches[0],c.touches[1]);if(c.origin=g,this.isStart){if("pinch"!=this.gestureType)return;c.distance=d,c.scale=d/this.startDistance,c.origin=g,e.dispatchEvent(c.target,h,c)}else this.isStart=1,this.startDistance=d,this.gestureType="pinch",e.dispatchEvent(c.target,f,c)}}function d(a){this.isStart=0,"pinch"==this.gestureType&&0==a.touches.length&&(e.dispatchEvent(a.target,g,a),this.gestureType="")}var e=i,f=(window.document,"gesturePinchStart"),g="gesturePinchEnd",h="gesturePinch";return document.body.addEventListener("touchmove",c),document.body.addEventListener("touchend",d),{PINCH_START:f,PINCH:h,PINCH_END:g}}({}),e=function(){var b=a,c=60,d=5,e=b.prefixStyle("transform"),f=(b.vendor?["-",b.vendor,"-transform"].join(""):"transform",b.prefixStyle("transition")),g=(b.prefixStyle("borderRadius"),[]),h=function(a){this.userConfig=a,this.init(a.xscroll)};return b.mix(h.prototype,{init:function(a){var b=this;b.xscroll=a,b.type=b.userConfig.type,b.isY="y"==b.type?!0:!1,b.containerSize=b.isY?b.xscroll.containerHeight:b.xscroll.containerWidth,b.indicateSize=b.isY?b.xscroll.height:b.xscroll.width,b.offset=b.xscroll.getOffset(),b.render(),b._bindEvt()},destroy:function(){var a=this;a.scrollbar&&a.scrollbar.remove(),a.xscroll.detach("scaleanimate",a._update,a),a.xscroll.detach("scrollend",a._update,a),a.xscroll.detach("scrollanimate",a._update,a);for(var b in g)a.xscroll.detach(g[b],a._update,a);delete a},render:function(){var a=this;if(!a.__isRender){a.__isRender=!0;var b=a.xscroll,c=a.isY?"width: 3px;position:absolute;bottom:5px;top:5px;right:2px;z-index:999;overflow:hidden;-webkit-border-radius:2px;-moz-border-radius:2px;-o-border-radius:2px;":"height:3px;position:absolute;left:5px;right:5px;bottom:2px;z-index:999;overflow:hidden;-webkit-border-radius:2px;-moz-border-radius:2px;-o-border-radius:2px;";a.scrollbar=document.createElement("div"),a.scrollbar.style.cssText=c,b.renderTo.appendChild(a.scrollbar);var d=a.isY?"width:100%;":"height:100%;";a.indicate=document.createElement("div"),a.indicate.style.cssText=d+"position:absolute;background:rgba(0,0,0,0.3);-webkit-border-radius:1.5px;-moz-border-radius:1.5px;-o-border-radius:1.5px;",a.scrollbar.appendChild(a.indicate),a._update()}},_update:function(a,b,c){var d=this,a=a||d.xscroll.getOffset(),e=d.computeScrollBar(a),f=d.isY?"height":"width";d.indicate.style[f]=e.size+"px",b&&c?d.scrollTo(e.offset,b,c):d.moveTo(e.offset)},computeScrollBar:function(a){var b=this,e=b.isY?"y":"x",a=a&&-a[e];b.containerSize=b.isY?b.xscroll.containerHeight:b.xscroll.containerWidth,b.indicateSize=b.isY?b.xscroll.height:b.xscroll.width;var f=b.indicateSize,g=b.containerSize,h=a/g,i=f*h,j=f*f/g,k=i*(f-c+j)/f;if(c>j&&(j=c,i=k),0>i)i=Math.abs(a)*j/c>j-d?d-j:a*j/c;else if(i+j>f){var l=a-g+f;i=l*j/c>j-d?f-d:f-j+l*j/c}b.barOffset=i;var m={size:j},l={};return l[e]=i,m.offset=l,m},scrollTo:function(a,b,c){var d=this;d.indicate.style[e]=d.isY?"translateY("+a.y+"px) translateZ(0)":"translateX("+a.x+"px)  translateZ(0)",d.indicate.style[f]=["all ",b,"s ",c," 0"].join("")},moveTo:function(a){var b=this;b.show(),b.indicate.style[e]=b.isY?"translateY("+a.y+"px)  translateZ(0)":"translateX("+a.x+"px)  translateZ(0)",b.indicate.style[f]=""},_bindEvt:function(){var a=this;if(!a.__isEvtBind){a.__isEvtBind=!0;var b=a.isY?"y":"x";a.xscroll.on("scaleanimate",function(b){a._update(b.offset)}),a.xscroll.on("pan",function(b){a._update(b.offset)}),a.xscroll.on("scrollend",function(c){c.zoomType.indexOf(b)>-1&&a._update(c.offset)}),a.xscroll.on("scrollanimate",function(c){c.zoomType==b&&a._update(c.offset,c.duration,c.easing)})}},reset:function(){var a=this;a.offset={x:0,y:0},a._update()},hide:function(){var a=this;a.scrollbar.style.opacity=0,a.scrollbar.style[f]="opacity 0.3s ease-out"},show:function(){var a=this;a.scrollbar.style.opacity=1}}),h}({}),j=function(){var b,c=a,d="Pull Down To Refresh",e="Loading...",f=function(a){this.init(a)};return c.mix(f.prototype,{init:function(a){var f=this;f.userConfig=c.mix({onRefresh:function(){window.location.reload()},content:d,height:60,autoRefresh:!0,downContent:"Pull Down To Refresh",upContent:"Release To Refresh",loadingContent:e,prefix:"xs-plugin-pulldown-"},a),f.xscroll=f.userConfig.xscroll,b=f.userConfig.prefix,f.xscroll&&f.xscroll.on("afterrender",function(){f.render()})},destroy:function(){var a=this;a.pulldown&&a.pulldown.remove(),a.xscroll.detach("panstart",a._panStartHandler,a),a.xscroll.detach("pan",a._panHandler,a),a.xscroll.detach("panend",a._panEndHandler,a),delete a},render:function(){var a=this;if(!a.__isRender){a.__isRender=!0;var d=b+"container",e=a.userConfig.height||60,f=a.pulldown=document.createElement("div");f.className=d,f.style.position="absolute",f.style.width="100%",f.style.height=e+"px",f.style.top=-e+"px",a.xscroll.container.appendChild(f),c.addClass(f,b+a.status),f.innerHTML=a.userConfig[a.status+"Content"]||a.userConfig.content,a._bindEvt()}},_bindEvt:function(){var a=this;if(!a._evtBinded){a._evtBinded=!0;var b=(a.pulldown,a.xscroll);b.on("pan",function(b){a._panHandler(b)}),b.on("panstart",function(b){a._panStartHandler(b)}),b.on("panend",function(b){a._panEndHandler(b)})}},_panStartHandler:function(){clearTimeout(this.loadingItv)},_changeStatus:function(a){var d=this.status;this.status=a,c.removeClass(this.pulldown,b+d),c.addClass(this.pulldown,b+a),this.setContent(this.userConfig[a+"Content"])},_panHandler:function(a){var b=this,c=a.offset.y,d=b.userConfig.height||60;0>c||b._changeStatus(Math.abs(c)<d?"down":"up")},_panEndHandler:function(){var a=this,b=a.xscroll,c=b.boundry.top,d=a.userConfig.height||60,e=b.getOffsetTop();e>d&&(b.boundry.top=c,!a._expanded&&b.boundry.expandTop(d),a._expanded=!0,b.bounce(!0),a._changeStatus("loading"),clearTimeout(a.loadingItv),a.loadingItv=setTimeout(function(){b.boundry.expandTop(-d),b.bounce(!0,function(){a.userConfig.onRefresh&&a.userConfig.onRefresh()})},800))},setContent:function(a){var b=this;a&&(b.pulldown.innerHTML=a)}}),f}({}),f=function(f){function g(a,b){return[[(a/3+(a+b)/3-a)/(b-a),(a*a/3+a*b*2/3-a*a)/(b*b-a*a)],[(b/3+(a+b)/3-a)/(b-a),(b*b/3+a*b*2/3-a*a)/(b*b-a*a)]]}var h=window,k=a,l=i,m=b,n=c,o=d,p=e,q=j,r=function(a){this.userConfig=a,this.init()};r.PullDown=q,r.version="1.0.0";for(var s="scrollend",t="scroll",u="panend",v="panstart",w="pan",x="scrollanimate",y="scaleanimate",z="scale",A="afterrender",B="refresh",C=5e-4,D=300,E="ease-in-out",F=.1,G=.36,H=300,I=k.prefixStyle("transform"),J=k.prefixStyle("transition"),K=k.prefixStyle("transitionDuration"),L=k.prefixStyle("transformOrigin"),M=k.vendor?k.prefixStyle("transitionEnd"):"transitionend",N=k.vendor?["-",k.vendor,"-transform"].join(""):"transform",O=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)},P=["webkit","moz","ms","o"],Q=window.cancelAnimationFrame,R=0;R<P.length;R++)(window[P[R]+"CancelAnimationFrame"]||window[P[R]+"CancelRequestAnimationFrame"])&&(Q=window[P[R]+"CancelAnimationFrame"]||window[P[R]+"CancelRequestAnimationFrame"]);Q=Q||window.clearTimeout;var S=function(a,b){if(!(a.touches.length>1)){var c=a.changedTouches,d=c[0],e=document.createEvent("MouseEvent");e.initMouseEvent(b,!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(e)}};return k.mix(r.prototype,{init:function(){var a=this;a.__events={};var b=a.userConfig=k.mix({scalable:!1,scrollbarX:!0,scrollbarY:!0},a.userConfig,void 0,void 0,!0);a.renderTo=document.getElementById(b.renderTo.replace("#","")),a.boundryCheckEnabled=!0;var c=a.clsPrefix=b.clsPrefix||"xs-";a.SROLL_ACCELERATION=b.SROLL_ACCELERATION||C,a.containerClsName=c+"container",a.contentClsName=c+"content"},refresh:function(){var a=this;a.render(),a.scrollTo({x:0,y:0}),a.fire(B)},render:function(){var a=this,b=a.userConfig;a._createContainer();var c=b.width||a.renderTo.offsetWidth,d=b.height||a.renderTo.offsetHeight||0;a.width=c,a.height=d,a.scale=b.scale||1;var e=b.containerWidth||a.content.offsetWidth,f=b.containerHeight||a.content.offsetHeight;a.containerWidth=e<a.width?a.width:e,a.containerHeight=f<a.height?a.height:f,a.initialContainerWidth=a.containerWidth,a.initialContainerHeight=a.containerHeight;var g=a.userConfig.minScale||Math.max(a.width/a.containerWidth,a.height/a.containerHeight),h=a.userConfig.maxScale||1;a.minScale=g,a.maxScale=h,a.boundry={reset:function(){return this.left=0,this.top=0,this.right=a.width,this.bottom=a.height,this},expandTop:function(a){return this.top+=a||0,this},expandLeft:function(a){return this.left+=a||0,this},expandRight:function(a){return this.right-=a||0,this},expandBottom:function(a){return this.bottom-=a||0,this}},a.boundry.reset(),a.fire(A),a.renderScrollBars(),a._bindEvt()},renderScrollBars:function(){var a=this;a.userConfig.scrollbarX&&(a.scrollbarX?a.scrollbarX._update():a.scrollbarX=new p({xscroll:a,type:"x"})),a.userConfig.scrollbarY&&(a.scrollbarY?a.scrollbarY._update():a.scrollbarY=new p({xscroll:a,type:"y"}))},_createContainer:function(){var a=this;if(!a.__isContainerCreated){var b=(a.renderTo,a.container=a.renderTo.getElementsByClassName(a.containerClsName)[0]),c=a.content=a.renderTo.getElementsByClassName(a.contentClsName)[0];b.style.position="absolute",b.style.height="100%",b.style.width="100%",b.style[L]="0 0",c.style.position="absolute",c.style[L]="0 0",a.translate({x:0,y:0}),a.__isContainerCreated=!0}},translate:function(a){this.translateX(a.x),this.translateY(a.y)},_scale:function(a,b,c,d){var e=this;if(e.userConfig.scalable&&e.scale!=a&&a){e.isScaling||(e.scaleBegin=e.scale,e.isScaling=!0,e.scaleBeginX=e.x,e.scaleBeginY=e.y),b&&(e.originX=b),c&&(e.originY=c);var f=e.boundry,g=a*e.initialContainerWidth,h=a*e.initialContainerHeight;e.containerWidth=Math.round(g>e.width?g:e.width),e.containerHeight=Math.round(h>e.height?h:e.height),e.scale=a;var i=b*(e.initialContainerWidth*e.scaleBegin-e.containerWidth)+e.scaleBeginX,j=c*(e.initialContainerHeight*e.scaleBegin-e.containerHeight)+e.scaleBeginY;i>f.left&&(i=f.left),j>f.top&&(j=f.top),i<f.right-e.containerWidth&&(i=f.right-e.containerWidth),j<f.bottom-e.containerHeight&&(j=f.bottom-e.containerHeight),e.x=i,e.y=j,e._transform(),e.fire(z,{scale:a,origin:{x:b,y:c},triggerEvent:d})}},scaleTo:function(a,b,c,d,e){var f=this;if(f.userConfig.scalable&&f.scale!=a&&a){var d=d||1,e=e||"ease-out",g=[N," ",d/1e3,"s ",e," 0s"].join(""),h=Date.now();f.destTimeScale=h+d,Q(f._rafScale);var i=(f.scale,function(){var a=Date.now();return a>h+d&&a>=f.destTimeScale?void(f.isScaling=!1):void(f._rafScale=O(i))});i(),f.container.style[J]=g,f.content.style[J]=g,f._scale(a,b,c,"scaleTo"),f.fire(y,{scale:f.scale,duration:d,easing:e,offset:{x:f.x,y:f.y},origin:{x:b,y:c}})}},translateX:function(a){this.x=a,this._transform()},translateY:function(a){this.y=a,this._transform()},_noTransition:function(){var a=this;k.isBadAndroid?(a.content.style[K]="0.001s",a.container.style[K]="0.001s"):(a.content.style[J]="none",a.container.style[J]="none")},stop:function(){var a=this;if(!a.isScaling){var b=a.boundry,c=a.getOffset();c.y>b.top||c.y+a.containerHeight<b.bottom||c.x>b.left||c.x+a.containerWidth<b.right||(a.translate(c),a._noTransition(),Q(a.rafX),Q(a.rafY),a.fire(s,{offset:c,scale:a.scale,zoomType:"xy"}))}},_transform:function(){var a=this.gpuAcceleration?" translateZ(0) ":"";this.content.style[I]="translate("+this.x+"px,0px)  scaleX("+this.scale+") scaleY("+this.scale+") "+a,this.container.style[I]="translate(0px,"+this.y+"px) "+a},getOffset:function(){var a=this;return{x:a.getOffsetLeft(),y:a.getOffsetTop()}},getOffsetTop:function(){if(this.lockY)return 0;var a=window.getComputedStyle(this.container)[I].match(/[-\d\.*\d*]+/g);return a?Math.round(a[5]):0},getOffsetLeft:function(){if(this.lockX)return 0;var a=window.getComputedStyle(this.content)[I].match(/[-\d\.*\d*]+/g);return a?Math.round(a[4]):0},scrollTo:function(a,b,c,d){var e=this,f=e.getOffset(),g=void 0===a.x||isNaN(a.x)?-f.x:a.x,h=void 0===a.y||isNaN(a.y)?-f.y:a.y;e.scrollX(g,b,c,d),e.scrollY(h,b,c,d)},scrollX:function(a,b,c,d){var e=this,a=Math.round(a);if(!e.userConfig.lockX){var b=b||0,c=c||"cubic-bezier(0.333333, 0.666667, 0.666667, 1)",f=e.content;e.translateX(-a);var g=b>0?[N," ",b/1e3,"s ",c," 0s"].join(""):"none";return f.style[J]=g,e._scrollHandler(-a,b,d,c,g,"x"),f.style[J]=g}},scrollY:function(a,b,c,d){var e=this,a=Math.round(a);if(!e.userConfig.lockY){var b=b||0,c=c||"cubic-bezier(0.333333, 0.666667, 0.666667, 1)",f=e.container;e.translateY(-a);var g=b>0?[N," ",b/1e3,"s ",c," 0s"].join(""):"none";return f.style[J]=g,e._scrollHandler(-a,b,d,c,g,"y"),f.style[J]=g}},_scrollHandler:function(a,b,c,d,e,f){var g=this,h=g.getOffset();if(h[f]!=a){if(0>=b)return void g.fire(t,{zoomType:f,offset:h});var i=f.toUpperCase();g["isScrolling"+i]=!0;var j=Date.now();g["destTime"+i]=j+b,Q(g["raf"+i]),g["__scrollEndCallback"+i]=function(a){g["isScrolling"+i]=!1,g.fire(s,{offset:g.getOffset(),zoomType:a.type}),c&&c(a)};var k=function(){Date.now();g["isScrolling"+i]&&O(function(){g.fire(t,{zoomType:f,offset:g.getOffset()})},0),g["raf"+i]=O(k)};k(),g.fire(x,{transition:e,offset:{x:g.x,y:g.y},duration:b/1e3,easing:d,zoomType:f})}},boundryCheckX:function(a){var b=this;if(b.boundryCheckEnabled&&!b.userConfig.lockX){var c=b.getOffset(),d=b.containerWidth,e=b.boundry;c.x>e.left?(c.x=e.left,b.scrollX(-c.x,D,E,a)):c.x+d<e.right&&(c.x=e.right-d,b.scrollX(-c.x,D,E,a))}},boundryCheckY:function(a){var b=this;if(b.boundryCheckEnabled&&!b.userConfig.lockY){var c=b.getOffset(),d=b.containerHeight,e=b.boundry;c.y>e.top?(c.y=e.top,b.scrollY(-c.y,D,E,a)):c.y+d<e.bottom&&(c.y=e.bottom-d,b.scrollY(-c.y,D,E,a))}},boundryCheck:function(a){this.boundryCheckX(a),this.boundryCheckY(a)},bounce:function(a,b){this.boundryCheckEnabled=a,a?this.boundryCheck(b):void 0},_bindEvt:function(){var a=this;if(!a.__isEvtBind){a.__isEvtBind=!0;var b=a.renderTo,c=a.container,d=a.content,e=a.containerWidth,f=a.containerHeight,g={x:0,y:0},i=a.boundry;if(l.on(b,"touchstart",function(b){b.preventDefault(),a.stop()}).on(b,n.TAP,function(b){a.boundryCheck(),a.isScrollingX||a.isScrollingY?(a.isScrollingX=!1,a.isScrollingY=!1,a.stop()):S(b,"click")}).on(b,m.PAN_START,function(){g=a.getOffset(),a.translate(g),a.fire(v,{offset:g})}).on(b,m.PAN,function(b){var c=a.userConfig.lockY?Number(g.y):Number(g.y)+b.deltaY,d=a.userConfig.lockX?Number(g.x):Number(g.x)+b.deltaX;i=a.boundry,e=a.containerWidth,f=a.containerHeight,c>i.top&&(c=(c-i.top)*G+i.top),c<i.bottom-f&&(c+=(i.bottom-f-c)*G),d>i.left&&(d=(d-i.left)*G+i.left),d<i.right-e&&(d+=(i.right-e-d)*G),a.translate({x:d,y:c}),a._noTransition(),a.isScrollingX=!1,a.isScrollingY=!1,a.directionX=b.directionX,a.directionY=b.directionY,a.fire(t,{offset:{x:d,y:c},directionX:a.directionX,directionY:a.directionY}),a.fire(w,{offset:{x:d,y:c},deltaX:b.deltaX,deltaY:b.deltaY,directionX:a.directionX,directionY:a.directionY})}).on(b,m.PAN_END,function(b){a.panEndHandler(b),a.fire(u,{velocity:b.velocity,velocityX:b.velocityX,velocityY:b.velocityY})}),l.on(c,M,function(b){b.target!=d||a.isScaling||a.__scrollEndCallbackX&&a.__scrollEndCallbackX({type:"x"}),b.target!=c||a.isScaling||a.__scrollEndCallbackY&&a.__scrollEndCallbackY({type:"y"})},!1),a.userConfig.scalable){var j,k;l.on(b,o.PINCH_START,function(b){scale=a.scale,j=(b.origin.pageX-a.x)/a.containerWidth,k=(b.origin.pageY-a.y)/a.containerHeight}),l.on(b,o.PINCH,function(b){a._scale(scale*b.scale,j,k,"pinch")}),l.on(b,o.PINCH_END,function(){a.isScaling=!1,a.scale<a.minScale?a.scaleTo(a.minScale,j,k,H):a.scale>a.maxScale&&a.scaleTo(a.maxScale,j,k,H)}),l.on(b,n.DOUBLE_TAP,function(b){j=(b.pageX-a.x)/a.containerWidth,k=(b.pageY-a.y)/a.containerHeight,a.scale>a.minScale?a.scaleTo(a.minScale,j,k,200):a.scaleTo(a.maxScale,j,k,200)})}l.on(h,"resize",function(){a.refresh()})}},panEndHandler:function(a){var b,c=this,d=(c.userConfig,c.getOffset()),e=c._bounce("x",d.x,a.velocityX,c.width,c.containerWidth),f=c._bounce("y",d.y,a.velocityY,c.height,c.containerHeight),g=e?e.offset:0,h=f?f.offset:0;e&&f&&e.status&&f.status&&e.duration&&f.duration&&(b=Math.max(e.duration,f.duration)),e&&(e.duration<100?c._scrollEndHandler("x"):c.scrollX(g,b||e.duration,e.easing,function(){c._scrollEndHandler("x")})),f&&(f.duration<100?c._scrollEndHandler("y"):c.scrollY(h,b||f.duration,f.easing,function(){c._scrollEndHandler("y")})),c.directionX=a.velocityX<0?"left":"right",c.directionY=a.velocityY<0?"up":"down"},_scrollEndHandler:function(a){var b=this,c=a.toUpperCase(),d="scroll"+c,e="boundryCheck"+c,f="_bounce"+a;if(b[f]){b.fire("outOfBoundry");var h=b[f],i=.04*(h/Math.abs(h)),j=h/i,k=b.getOffset()[a],l=k+j*h/2;b[d](-l,j,"cubic-bezier("+g(-j,0)+")",function(){b[f]=0,b[e]()})}else b[e]()},fire:function(a){var b=this;if(b.__events[a]&&b.__events[a].length)for(var c in b.__events[a])b.__events[a][c].apply(this,[].slice.call(arguments,1))},on:function(a,b){this.__events[a]||(this.__events[a]=[]),this.__events[a].push(b)},detach:function(a,b){if(a&&this.__events[a]){var c=this.__events[a].indexOf(b);c>-1&&this.__events[a].splice(c,1)}},_bounce:function(a,b,c,d,e){var f=this,h=f.boundry,i="x"==a?h.left:h.top,j="x"==a?h.right:h.bottom,d=j-i,k={};if(0===c)return void("x"==a?f.boundryCheckX():f.boundryCheckY());if(!("x"==a&&f.userConfig.lockX||"y"==a&&f.userConfig.lockY)){var l=f.userConfig,m=l.maxSpeed>0&&l.maxSpeed<6?l.maxSpeed:3;if(console.log(m),c>m&&(c=m),-m>c&&(c=-m),b>i||d-e>b){var n=F*(c/Math.abs(c)),o=c/n,p=b+o*c/2;return k.offset=-p,k.duration=o,k.easing="cubic-bezier("+g(-o,0)+")",k}var n=f.SROLL_ACCELERATION*(c/Math.abs(c)),o=c/n,p=b/1+o*c/2;if(p>i){var q=i-b,r=(c-Math.sqrt(-2*n*q+c*c))/n;k.offset=-i,k.duration=r,k.easing="cubic-bezier("+g(-o,-o+r)+")",f["_bounce"+a]=c-n*r}else if(d-e>p){var q=d-e-b,r=(c+Math.sqrt(-2*n*q+c*c))/n;k.offset=e-d,k.duration=r,k.easing="cubic-bezier("+g(-o,-o+r)+")",f["_bounce"+a]=c-n*r}else k.offset=-p,k.duration=o,k.easing="cubic-bezier("+g(-o,0)+")",k.status="normal";return f["isScrolling"+a.toUpperCase()]=!0,k}}}),"object"==typeof module&&module.exports?f=r:window.XScroll=r,r}({}),g=function(){var a=function(a){this.data=a&&a.data||[],this.id=a&&a.id||"_ds_"+Date.now()};return a.prototype.appendData=function(a){this.data=this.data.concat(a)},a.prototype.removeData=function(){this.data=[]},a.prototype.getData=function(){return this.data},a.prototype.setId=function(a){return a?(this.id=a,this.id):void 0},a.prototype.getId=function(){return this.id},a}({}),h=function(b){var c=a,d=f,e=g,h=c.prefixStyle("transform"),i=function(a){this.super.call(this,a)};return i.DataSet=e,c.extend(d,i,{init:function(){{var a=this;a.userConfig=c.mix({data:[],gpuAcceleration:!0,lockX:!0,scrollbarX:!1,itemHeight:30},a.userConfig)}this.super.prototype.init.call(this),a._initInfinite()},_getDomInfo:function(){var a=this,b=a._formatData(),c=a.userConfig.itemHeight,d=0,e=[],f=0;a.hasSticky=!1,a.userConfig.maxSpeed=.06*c;for(var g=0,h=b.length;h>g;g++){var i=b[g];f=i.style&&i.style.height>=0?i.style.height:c,i._row=g,i._top=d,i._height=f,i.recycled=i.recycled===!1?!1:!0,e.push(i),d+=f,!a.hasSticky&&i.style&&"sticky"==i.style.position&&(a.hasSticky=!0)}return a.domInfo=e,e},appendDataSet:function(a){var b=this;!a instanceof e||b.datasets.push(a)},removeDataSet:function(a){var b=this;if(a){for(var c,d=0,e=b.datasets.length;e>d;d++)a==b.datasets[d].getId()&&(c=d);b.datasets.splice(c,1)}},getDataSets:function(){var a=this;return a.datasets},getDataSetById:function(a){var b=this;if(a)for(var c=0,d=b.datasets.length;d>c;c++)if(b.datasets[c].getId()==a)return b.datasets[c]},_formatData:function(){var a=this,b=[];for(var c in a.datasets)b=b.concat(a.datasets[c].getData());return b},_getChangedRows:function(a,b){var c=this,d={};for(var e in c.elementsPos)a.hasOwnProperty(e)||(d[e]="delete");for(var e in a)!a[e].recycled||c.elementsPos.hasOwnProperty(e)&&!b||(d[e]="add");return c.elementsPos=a,d},_getElementsPos:function(a){for(var b,c=this,a=-(a||c.getOffsetTop()),d=c.domInfo,e=c.userConfig.itemHeight,f=Math.ceil(c.height/e),g=Math.max(Math.ceil(f/3),0),h=Math.max(a-g*e,0),i={},j=0,k=d.length;k>j;j++)b=d[j],b._top>=h-e&&b._top<=h+2*g*e+c.height&&(i[b._row]=b);return i},render:function(){var a=this;this.super.prototype.render.call(this),a._getDomInfo(),a._initSticky();var b=a.height,c=a.domInfo[a.domInfo.length-1],d=c&&c._top?c._top+c._height:a.height;b>d&&(d=b),a.containerHeight=d,a.container.style.height=d,a.renderScrollBars(),a._renderNoRecycledEl(),a._update(a.getOffsetTop(),!0)},_update:function(a,b){var c=this,d=c.userConfig.gpuAcceleration?" translateZ(0) ":"",a=void 0===a?c.getOffsetTop():a,e=c._getElementsPos(a),f=c._getChangedRows(e,b),g=null;if(b)for(var i=0;i<c.infiniteLength;i++)c.infiniteElementsCache[i]._visible=!1,c.infiniteElements[i].style.visibility="hidden",delete c.infiniteElementsCache[i]._row;var j=function(){for(var a=0;a<c.infiniteLength;a++)if(!c.infiniteElementsCache[a]._visible)return c.infiniteElementsCache[a]._visible=!0,a},k=function(a){for(var b=0;b<c.infiniteLength;b++)c.infiniteElementsCache[b]._row==a&&(c.infiniteElementsCache[b]._visible=!1,c.infiniteElements[b].style.visibility="hidden",delete c.infiniteElementsCache[b]._row)};for(var i in f)if("delete"==f[i]&&k(i),"add"==f[i]){var l=j(e[i]._row);if(g=c.infiniteElements[l]){c.infiniteElementsCache[l]._row=e[i]._row;for(var m in e[i].style)"height"!=m&&"display"!=m&&"position"!=m&&(g.style[m]=e[i].style[m]);g.style.visibility="visible",g.style.height=e[i]._height+"px",g.style[h]="translateY("+e[i]._top+"px) "+d,c.userConfig.renderHook.call(c,g,e[i])}}},_renderNoRecycledEl:function(){var a=this,b=a.userConfig.gpuAcceleration?" translateZ(0) ":"";for(var c in a.domInfo)if(a.domInfo[c].recycled===!1){var d=a.domInfo[c].id&&document.getElementById(a.domInfo[c].id.replace("#",""))||document.createElement("div"),e="ks-xlist-row-"+Date.now();d.id=a.domInfo[c].id||e,a.domInfo[c].id=d.id,a.content.appendChild(d);for(var f in a.domInfo[c].style)"height"!=f&&"display"!=f&&"position"!=f&&(d.style[f]=a.domInfo[c].style[f]);d.style.top=0,d.style.position="absolute",d.style.display="block",d.style.height=a.domInfo[c]._height+"px",d.style[h]="translateY("+a.domInfo[c]._top+"px) "+b,a.domInfo[c].className&&(d.className=a.domInfo[c].className),a.userConfig.renderHook.call(a,d,a.domInfo[c])}},_initSticky:function(){var a=this;if(a.hasSticky&&!a._isStickyRendered){a._isStickyRendered=!0;var b=document.createElement("div");b.style.position="absolute",b.style.top="0",b.style.display="none",a.renderTo.appendChild(b),a.stickyElement=b,a.stickyDomInfo=[];for(var c=0,d=a.domInfo.length;d>c;c++)a.domInfo[c]&&a.domInfo[c].style&&"sticky"==a.domInfo[c].style.position&&a.stickyDomInfo.push(a.domInfo[c]);a.stickyDomInfoLength=a.stickyDomInfo.length}},_stickyHandler:function(a){var b=this;if(b.stickyDomInfoLength){for(var c=Math.abs(a),d=[],e=[],f=0;f<b.stickyDomInfoLength;f++)e.push(b.stickyDomInfo[f]._top),c>=b.stickyDomInfo[f]._top&&d.push(f);if(!d.length)return b.stickyElement.style.display="none",void(b.curStickyIndex=void 0);var g=Math.max.apply(null,d);if(b.curStickyIndex!==g){b.curStickyIndex=g,b.userConfig.renderHook.call(b,b.stickyElement,b.stickyDomInfo[b.curStickyIndex]),b.stickyElement.style.display="block",b.stickyElement.style.height=b.stickyDomInfo[b.curStickyIndex].style.height+"px",b.stickyElement.className=b.stickyDomInfo[b.curStickyIndex].className||"";for(var h in b.stickyDomInfo[b.curStickyIndex].style)"height"!=h&&"display"!=h&&"position"!=h&&(b.stickyElement.style[h]=b.stickyDomInfo[b.curStickyIndex].style[h])}return-a<Math.min.apply(null,e)?(b.stickyElement.style.display="none",void(b.curStickyIndex=void 0)):void 0}},enableGPUAcceleration:function(){var a=this;a.userConfig.gpuAcceleration=!0;for(var b=0;b<a.infiniteLength;b++)/translateZ/.test(a.infiniteElements[b].style[h])||(a.infiniteElements[b].style[h]+=" translateZ(0)")},disableGPUAcceleration:function(){var a=this;a.userConfig.gpuAcceleration=!1;for(var b=0;b<a.infiniteLength;b++)a.infiniteElements[b].style[h]=a.infiniteElements[b].style[h].replace(/translateZ\(0px\)/,"")},_initInfinite:function(){var a=this,b=a.userConfig.infiniteElements;a.datasets=[],a.userConfig.data&&a.userConfig.data.length&&a.datasets.push(new e({data:a.userConfig.data})),a.infiniteElements=a.renderTo.querySelectorAll(b),a.infiniteLength=a.infiniteElements.length,a.infiniteElementsCache=function(){for(var b=[],c=0;c<a.infiniteLength;c++)b.push({}),a.infiniteElements[c].style.position="absolute",a.infiniteElements[c].style.top=0,a.infiniteElements[c].style.visibility="hidden",a.infiniteElements[c].style.display="block";return b}(),a.elementsPos={},a.on("scroll",function(b){a._update(b.offset.y),a._stickyHandler(b.offset.y)})}}),"object"==typeof module&&module.exports?b=i:window.XList=i,i}({})}(),function(a,b){b.xscroll=a.XScroll,b.xlist=a.XList}(window,window.lib||(window.lib={}));
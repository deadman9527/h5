!function(e,t){function n(e,n){function r(e){var t=document.createEvent("HTMLEvents");t.initEvent("switch",!0,!0),t.panel=e.selected.panel,t.selected=e.selected,t.selectedIndex=e.selectedIndex,l.dispatchEvent(t),Array.prototype.forEach.call(c.querySelectorAll(".panel"),function(e){e.style.display="none"}),e.selected.panel.style.display=""}var d=Date.now()+"-"+ ++a,l=document.createDocumentFragment();if(1!==arguments.length||arguments[0]instanceof HTMLElement||(n=arguments[0],e=null),e||(e=document.createElement("div")),n=n||{},n.header instanceof HTMLElement)var i=new t.tabheader(n.header);else if(n.header instanceof t.tabheader)var i=n.header;else var i=new t.tabheader;var c=document.createElement("div");e.appendChild(i.root),e.appendChild(c),e.setAttribute("data-ctrl-name","tabpanel"),e.setAttribute("data-ctrl-id",d),l.appendChild(e);var o=[];Object.defineProperty(this,"viewModel",{get:function(){return o},set:function(e){if(!e)throw new Error("Non expected value");o=e,this.syncViewModel()}}),i.addEventListener("select",r,!0),this.syncViewModel=function(){var e=o.slice();c.innerHTML="";for(var t=document.createDocumentFragment(),n=0;n<e.length;n++){var a=e[n].panel=document.createElement("div");a.className="panel",a.style.display="none",a.innerHTML=e[n].html||"",t.appendChild(e[n].panel)}c.appendChild(t),i.viewModel=e,r({selected:e[0],selectIndex:0})},this.addEventListener=function(){l.addEventListener.apply(l,arguments)},this.removeEventListener=function(){l.removeEventListener.apply(l,arguments)},this.remove=function(){e.parentNode&&e.parentNode.removeChild(e)},this.element=e,this.root=l}var a=0;t.tabpanel=n}(window,window.ctrl||(window.ctrl={}));
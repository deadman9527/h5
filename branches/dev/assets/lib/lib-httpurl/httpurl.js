!function(t,e){function i(t){var e={};Object.defineProperty(this,"params",{set:function(t){if("object"==typeof t){for(var i in e)delete e[i];for(var i in t)e[i]=t[i]}},get:function(){return e},enumerable:!0}),Object.defineProperty(this,"search",{set:function(t){if("string"==typeof t){0===t.indexOf("?")&&(t=t.substr(1));var i=t.split("&");for(var s in e)delete e[s];for(var n=0;n<i.length;n++){var o=i[n].split("=");if(o[0])try{e[decodeURIComponent(o[0])]=decodeURIComponent(o[1]||"")}catch(h){e[o[0]]=o[1]||""}}}},get:function(){var t=[];for(var i in e)if(e[i])try{t.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]))}catch(s){t.push(i+"="+e[i])}else try{t.push(encodeURIComponent(i))}catch(s){t.push(i)}return t.length?"?"+t.join("&"):""},enumerable:!0});var i;Object.defineProperty(this,"hash",{set:function(t){t&&t.indexOf("#")<0&&(t="#"+t),i=t||""},get:function(){return i},enumerable:!0}),this.set=function(t){t=t||"";var e;if(!(e=t.match(new RegExp("^("+s.join("|")+"):[/]{2}(?:([^@/:?]+)(?::([^@/:]+))?@)?([^:/?#]+)(?:[:]([0-9]+))?([/][^?#;]*)?(?:[?]([^?#]*))?(#[^#]*)?$","i"))))throw new Error("Wrong uri scheme.");this.protocal=e[1],this.username=e[2]||"",this.password=e[3]||"",this.hostname=this.host=e[4],this.port=e[5]||"",this.pathname=e[6]||"/",this.search=e[7]||"",this.hash=e[8]||"",this.origin=this.protocal+"://"+this.hostname},this.toString=function(){var t=this.protocal+"://";return this.username&&(t+=this.username,this.password&&(t+=":"+this.password),t+="@"),t+=this.host,this.port&&"80"!==this.port&&(t+=":"+this.port),this.pathname&&(t+=this.pathname),this.search&&(t+=this.search),this.hash&&(t+=this.hash),t},t&&this.set(t.toString())}var s=["http","https","taobao","taobaowebview","taobaohd","tmall","kddcpublic"];e.httpurl=i}(window,window.lib||(window.lib={}));